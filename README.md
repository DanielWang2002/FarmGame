# FarmGame

這是一個使用 Python 與 Pygame 製作的小型農場遊戲示例。玩家可以種植作物、升級泥土、收穫並獲得金幣。以下將介紹遊戲簡介、操作方式，以及各個程式檔案的功能與安裝方法。

---

## 遊戲簡介 (Game Introduction)

本遊戲是一個簡單的 2D 農場模擬，玩家可在地圖上放置泥土、種下種子，作物會隨時間成長，長到最高階段 (5 階) 後可收穫獲得金幣。  
同時，還有對應的庫存 (Inventory) 介面，可顯示並選擇不同的種子。  
若你想擴充遊戲功能，可以在此基礎上加入更多場景、道具或作物。

---

## 遊戲玩法 (How to Play)

### 主要按鍵說明

- **方向鍵 (↑↓←→)**：移動角色 (農夫)。  
- **Q**：  
  - 在腳下沒有泥土時，花費 50 金幣 **放置**一塊泥土。  
  - 在有泥土處，若泥土未達最高等級，可花費一定金幣 **升級**泥土。  
- **W**：顯示或隱藏「種子庫存」(Seed Inventory) 的數字選單，以便按下數字鍵選擇要種的種子。  
- **數字鍵 1~5**：在顯示種子庫存的數字時，可選擇對應種子並種在腳下的泥土上。  
- **空白鍵 (SPACE)**：  
  - 若腳下的作物已達 **第 5 階段**，可按空白鍵 **收穫** 並獲得 50 金幣。  

### 成長機制

- 作物會隨時間成長，約每 2 秒成長一次，若泥土等級越高，成長速度越快。  
- 有四種泥土等級 (Normal, Plus, Extra, Ultra)，等級越高的泥土其 `growth_speed_bonus` 越大，代表更快的成長。  

### 收穫動畫 (Floating Coin Animation)

- 當成功收穫到 **第 5 階段**作物時，金幣數量旁會飄出「+50」的浮動動畫，並在短時間內逐漸往上移動、消失。

---

## 程式檔案概述 (Project Files Overview)

### 1. `main_game.py`

- **功能**：遊戲的主程式入口，包含整個遊戲循環 (game loop)、初始化等。  
- **重點**：  
  - `Game.run()` 負責持續更新遊戲狀態與繪圖。  
  - 在此也會更新「作物成長」與繪製「收穫動畫」。  
  - 提供 `create_coin_animation()` 方法，當收穫時可輕鬆生成 `+50` 浮動動畫。  

### 2. `event_handler.py`

- **功能**：主要負責玩家事件 (event) 的偵測與對應行為。  
- **重點**：  
  - 按鍵 (Q, W, 空白鍵等) 的行為都在此。  
  - 收穫作物 (SPACE) 時，觸發 `coin.increase(50)` 並生成浮動金幣動畫。  

### 3. `coin_animation.py`

- **功能**：定義「浮動文字動畫」的類別 `CoinAnimation`。  
- **重點**：  
  - `update()` 中會改變文字的 `y` 位置與透明度，達到往上飄 & 漸漸消失的效果。  
  - `draw()` 負責繪製該浮動文字。  

### 4. `dirt.py`

- **功能**：定義「泥土」的類別 `Dirt`。  
- **重點**：  
  - 負責泥土等級（Normal ~ Ultra）、載入對應圖片、計算繪製位置。  
  - 可升級 (upgrade)；同時保存 `growth_speed_bonus` 幫助計算成長速度。  
  - `plant_seed()` 用來在泥土上種下植物。  

### 5. `plant.py`

- **功能**：定義「植物」的類別 `Plant`。  
- **重點**：  
  - 初始種下時為第二階 (CropSeed2.png)，每次成長會改用下一階段圖片 (直到第 5 階)。  
  - `grow()` 方法中實作切換圖片。  

### 6. `coin.py`

- **功能**：定義金幣 (Coin) 的類別。  
- **重點**：  
  - `increase()` / `decrease()` 變更金幣數量，`get_amount()` 取回數量。  

### 7. `inventory.py`

- **功能**：定義庫存 (Inventory) 類別，用來顯示或選擇可用的種子。  
- **重點**：  
  - 能顯示相應圖片與數量。  
  - `toggle_numbers()` 控制是否顯示 1~5 數字於欄位；並可透過按數字鍵選擇種子並種植。  

### 8. 其他檔案 (`background.py`, `farm_grid.py`, `settings.py`, `seed.py`, `farmer.py`)

- `background.py`：載入背景、農場網格圖片並繪製。  
- `farm_grid.py`：計算地圖上網格與座標的對應，幫忙找出「腳下是哪一格」。  
- `settings.py`：定義一些全域設定（視窗大小、FPS、泥土等級資料等）。  
- `seed.py`：定義種子類別 (例如 `WheatSeed`, `AppleSeed`)；可以被庫存系統使用。  
- `farmer.py`：定義農夫角色的移動與動畫 (精靈圖)。  

---

## 安裝與執行 (Installation & Run)

1. **安裝 Python 3**  
   - 確保系統中已安裝 Python 3.x。

2. **安裝 Pygame**  
   ```bash
   pip install pygame
